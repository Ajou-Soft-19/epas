# [EPAS (Emergency vehicle Pre-Alerting System)]

## 프로젝트 소개

- EPAS는 차량 주행자가 응급차량의 접근을 미리 알 수 있습니다.
- 응급차량은 응급상황에서 보다 쉽고 빠르게 목적지에 도달할 수 있습니다.
- 주행자는 응급차량의 접근을 보고 받아 사고 위험없이 미리 길을 터줄 수 있습니다.

## Team Ajou Moses

| 정선문                                                                                                           | 장연지                                                                                                           | 김민규                                                                                                          |
| ---------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------- |
| [![정선문 깃허브 프로필 사진](https://avatars.githubusercontent.com/u/32717522?v=4)](https://github.com/bandall) | [![장연지 깃허브 프로필 사진](https://avatars.githubusercontent.com/u/48924755?v=4)](https://github.com/MillPRE) | [![김민규 깃허브 프로필 사진](https://avatars.githubusercontent.com/u/48954288?v=4)](https://github.com/kmkkkp) |
| Backend                                                                                                          | Backend                                                                                                          | Frontend                                                                                                        |

## 🛠️ Tech Stack 🛠️

<div align="center">
    <img src="https://img.shields.io/badge/SpringBoot-6DB33F?style=for-the-badge&logo=spring&logoColor=white">
    <img src="https://img.shields.io/badge/PostgreSQL-336791?style=for-the-badge&logo=postgresql&logoColor=white">
    <img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white">
    <img src="https://img.shields.io/badge/Node.js-339933?style=for-the-badge&logo=node.js&logoColor=white">
    <img src="https://img.shields.io/badge/Flutter-02569B?style=for-the-badge&logo=flutter&logoColor=white">
</div>

<br>

## 🧰 Development Tools 🧰

<div align="center">
    <img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=github&logoColor=white">
    <img src="https://img.shields.io/badge/Notion-ffffff?style=for-the-badge&logo=notion&logoColor=black">
    <img src="https://img.shields.io/badge/Discord-5865F2?style=for-the-badge&logo=discord&logoColor=white">
    <img src="https://img.shields.io/badge/Jira-0052CC?style=for-the-badge&logo=jira&logoColor=white">
    <img src="https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=postman&logoColor=white">
    <img src="https://img.shields.io/badge/GoogleCloud-4285F4?style=for-the-badge&logo=googlecloud&logoColor=white">
    <img src="https://img.shields.io/badge/Figma-F24E1E?style=for-the-badge&logo=figma&logoColor=white">
</div>

## 2. API Used

<div align="center">
    <img src="https://img.shields.io/badge/GoogleMapsAPI-4285F4?style=for-the-badge&logo=googlemaps&logoColor=white">
    <img src="https://img.shields.io/badge/NaverMapsAPI-03C75A?style=for-the-badge&logo=naver&logoColor=white">
    <img src="https://img.shields.io/badge/OSRMAPI-7D669E?style=for-the-badge&logo=openstreetmap&logoColor=white">
</div>

<br>

## 3. 페이지별 기능

### 3-1. 회원가입 화면

| 계정 생성 초기 화면                         | 계정 생성 폼                         | 계정 생성 버튼 클릭                        |
| ------------------------------------------- | ------------------------------------ | ------------------------------------------ |
| ![계정 생성 초기 화면 ](img/4/signup1.jpeg) | ![계정 생성 폼 ](img/4/signup2.jpeg) | ![계정 생성 버튼 클릭](img/4/signup3.jpeg) |

### 3-2. 로그인 화면

| 로그인 초기 화면                        | 로그인 폼                        | 로그인 성공                        |
| --------------------------------------- | -------------------------------- | ---------------------------------- |
| ![로그인 초기 화면 ](img/4/login1.jpeg) | ![로그인 폼 ](img/4/login2.jpeg) | ![로그인 성공](img/4/account.jpeg) |

### 3-3. Map 화면

| Map 화면                                         |
| ------------------------------------------------ |
| <img src="img/4/navigation1.jpeg" width="200" /> |

### 3-4. 네비게이션 화면

| 네비게이션 초기 화면                             | 네비게이션 목적지 검색                           | 찾은 경로 보여줌                           | 네비게이션 시작                            |
| ------------------------------------------------ | ------------------------------------------------ | ------------------------------------------ | ------------------------------------------ |
| ![네비게이션 초기 화면 ](img/4/navigation1.jpeg) | ![네비게이션 경로 검색 ](img/4/navigation2.jpeg) | ![네비게이션 시작](img/4/navigation3.jpeg) | ![네비게이션 시작](img/4/navigation4.jpeg) |

### 3-5. Account 화면

| Account 메인 화면                            | 사용자 이름 변경                              | 사용자 이름 변경 완료                         | 응급차량 권한 요청                            | 응급차량 권한 요청 승인 결과 확인             |
| -------------------------------------------- | --------------------------------------------- | --------------------------------------------- | --------------------------------------------- | --------------------------------------------- |
| <img src="img/4/account1.jpeg" width="200"/> | <img src="img/4/account2.jpeg" width="200" /> | <img src="img/4/account3.jpeg" width="200" /> | <img src="img/4/account4.jpeg" width="200" /> | <img src="img/4/account5.jpeg" width="200" /> |

### 3-6. 차량 등록 화면

| 차량 등록 초기 화면                             | 차량 추가 화면                            | 차량 추가 완료                            |
| ----------------------------------------------- | ----------------------------------------- | ----------------------------------------- |
| ![차량 등록 초기 화면 ](img/4/addVehicle1.jpeg) | ![차량 추가 화면](img/4/addVehicle2.jpeg) | ![차량 추가 완료](img/4/addVehicle3.jpeg) |

### 3-7. 응급차량 응급 모드

| 응급차량 응급모드                 | 응급차량 일반모드                 | 응급차량 응급상황 주행시작        |
| --------------------------------- | --------------------------------- | --------------------------------- |
| <img src="img/4/emergency1.jpeg"> | <img src="img/4/emergency2.jpeg"> | <img src="img/4/emergency3.jpeg"> |

### 3-8. 경고 알람 발생 화면

| 경고 알람 발생 화면                        |
| ------------------------------------------ |
| <img src="img/4/alert1.png" width="200" /> |

### 3-9. Admin 화면

| 관리자 Account 화면                 | 모니터링 페이지              |
| ----------------------------------- | ---------------------------- |
| <img src="img/4/adminAccount.jpeg"> | <img src="img/4/admin3.png"> |

### 3-10. 권한 관리 화면

| 응급차량 권한 요청 승인/거절 페이지 |
| ----------------------------------- |
| <img src="img/4/admin2.png">        |

---

## 4. 알고리즘

### 4-1. ERD

![ERD](img/algorithm/ERD.png)

### 4-2. Alert Logic

| 응급차량 현재 위치 기준 차량 필터링 예시             | 응급차량 다음 포인트 기준 차량 필터링 예시           |
| ---------------------------------------------------- | ---------------------------------------------------- |
| <img src="img/algorithm/Filtering1.png" width="200"> | <img src="img/algorithm/Filtering2.png" width="200"> |

- 응급차량의 주행 경로를 400m 간격으로 나우어 체크포린트로 저장
- 응급차량 현재 위치 기준 160m 내에 위치한 차량 필터링 (모니터링 페이지 기준 빨간색 원)
- 응급차량 다음 이동 경로 포인트 반경 500m 내에 위치한 차량 필터링 (모니터링 페이지 기준 파란색 원)
- 필터링된 차량들에게 경고 알람 전송
  - 네비게이션 사용하는 차량:
    - 응급차량의 예상 경로와 현재 위치 정보를 담은 경보 메시지를 전달
  - 네비게이션 사용하지 않는 차량:
    - 주행 차량의 현재 위치와 이동 방향을 고려하여 다음 체크포인트에 응급차량보다 빠르게 도착하거나 비슷한 시간에 도착할 것으로 예상되는 경우 경고 발생

### 4-3. Map Matching Logic

### 4-4. Front Alert Logic
